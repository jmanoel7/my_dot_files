#!/bin/bash
[ -f ~/.xsessionrc ] && . ~/.xsessionrc
[ -f ~/.Xresources ] && xrdb -load ~/.Xresources
setxkbmap br
case "$1" in
    "i3")
        compton -b -f -m 0.95 &
        nitrogen --restore &
        volumeicon &
        clipit &
        nm-applet &
        #/opt/teamviewer/tv_bin/script/teamviewer &
        #hp-systray -x &
        /bin/sh -c 'sleep 5; dropbox start -i' &
        /bin/sh -c 'sleep 5; killall -9 gnome-keyring-daemon' &
        /bin/sh -c 'sleep 5; killall -9 gpg-agent; gpg-agent --daemon --sh' &
        thunar --daemon &
        i3-sensible-terminal &
        exec /usr/bin/dbus-launch --sh-syntax --exit-with-session /usr/bin/i3
        ;;
    "i3-with-shmlog")
        compton -b -f -m 0.95 &
        nitrogen --restore &
        volumeicon &
        clipit &
        nm-applet &
        #/opt/teamviewer/tv_bin/script/teamviewer &
        #hp-systray -x &
        /bin/sh -c 'sleep 5; dropbox start -i' &
        /bin/sh -c 'sleep 5; killall -9 gnome-keyring-daemon 2>&1 /dev/null' &
        /bin/sh -c 'sleep 5; killall -9 gpg-agent; gpg-agent --daemon --sh' &
        thunar --daemon &
        i3-sensible-terminal &
        exec /usr/bin/dbus-launch --sh-syntax --exit-with-session /usr/bin/i3-with-shmlog
        ;;
    "/usr/bin/startfluxbox")
        compton -b -f -m 0.95 &
        fbsetbg -l &
        volumeicon &
        clipit &
        nm-applet &
        #/opt/teamviewer/tv_bin/script/teamviewer &
        #hp-systray -x &
        /bin/sh -c 'sleep 5; dropbox start -i' &
        /bin/sh -c 'sleep 5; killall -9 gnome-keyring-daemon 2>&1 /dev/null' &
        /bin/sh -c 'sleep 5; killall -9 gpg-agent; gpg-agent --daemon --sh' &
        thunar --daemon &
        x-terminal-emulator &
        exec /usr/bin/dbus-launch --sh-syntax --exit-with-session /usr/bin/startfluxbox
        ;;
    "/usr/bin/openbox-session")
        exec /usr/bin/dbus-launch --sh-syntax --exit-with-session /usr/bin/openbox-session
        ;;
    "razor-session")
        exec /usr/bin/dbus-launch --sh-syntax --exit-with-session /usr/bin/razor-session
        ;;
    *)
        exec /usr/bin/dbus-launch --sh-syntax --exit-with-session /usr/bin/razor-session
        ;;
esac
